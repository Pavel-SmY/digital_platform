<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Каталог услуг — MOEX Цифровая Платформа</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, sans-serif; background: #f5f5f5; color: #1a1a1a; font-size: 14px; line-height: 1.5; }
a { text-decoration: none; color: inherit; cursor: pointer; }
button { cursor: pointer; font-family: inherit; border: none; background: none; }

/* ===== HEADER ===== */
.header { display: flex; align-items: center; height: 56px; background: #fff; border-bottom: 1px solid #e5e5e5; padding: 0 24px; position: sticky; top: 0; z-index: 100; }
.header-logo { display: flex; align-items: center; gap: 8px; margin-right: 24px; }
.header-logo-icon { width: 40px; height: 28px; display: flex; align-items: center; }
.header-logo-icon svg { width: 100%; height: 100%; }
.header-logo-text { font-size: 10px; font-weight: 700; line-height: 1.2; color: #1a1a1a; text-transform: uppercase; letter-spacing: 0.02em; }
.header-company { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border: 1px solid #e5e5e5; border-radius: 8px; font-size: 13px; font-weight: 500; margin-right: 12px; }
.header-company svg { width: 16px; height: 16px; color: #999; }
.header-services-btn { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border: 1px solid #e5e5e5; border-radius: 8px; font-size: 13px; font-weight: 500; }
.header-services-btn svg { width: 16px; height: 16px; }
.header-right { margin-left: auto; display: flex; align-items: center; gap: 4px; }
.header-lang { font-size: 13px; font-weight: 500; color: #666; padding: 6px 10px; border: 1px solid #e5e5e5; border-radius: 8px; margin-right: 8px; }
.header-icon-btn { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 8px; color: #333; transition: background 0.15s; }
.header-icon-btn:hover { background: #f5f5f5; }
.header-notif-btn { position: relative; }
.header-notif-dot { position: absolute; top: 6px; right: 6px; width: 7px; height: 7px; background: #cc0000; border-radius: 50%; border: 1.5px solid #fff; }
.header-user { display: flex; align-items: center; gap: 8px; padding: 6px 12px; border-radius: 8px; font-size: 13px; font-weight: 500; margin-left: 4px; }
.header-user:hover { background: #f5f5f5; }
.header-user svg { width: 20px; height: 20px; color: #666; }

/* ===== LAYOUT ===== */
.layout { display: flex; min-height: calc(100vh - 56px); }

/* ===== SIDEBAR ===== */
.sidebar { width: 180px; min-width: 180px; background: #fff; border-right: 1px solid #e5e5e5; padding: 16px 0; display: flex; flex-direction: column; }
.sidebar-nav { display: flex; flex-direction: column; gap: 2px; }
.sidebar-item { display: flex; align-items: center; gap: 10px; padding: 10px 20px; font-size: 13px; font-weight: 500; color: #333; transition: background 0.15s; position: relative; }
.sidebar-item:hover { background: #f9f9f9; }
.sidebar-item.active { color: #1a1a1a; font-weight: 600; }
.sidebar-item svg { width: 18px; height: 18px; color: #666; flex-shrink: 0; }
.sidebar-badge { background: #f0f0f0; color: #333; font-size: 11px; font-weight: 600; padding: 1px 6px; border-radius: 10px; margin-left: 4px; }
.sidebar-item-chevron { margin-left: auto; }
.sidebar-item-chevron svg { width: 14px; height: 14px; }
.sidebar-collapse { margin-top: auto; padding: 12px 20px; display: flex; align-items: center; gap: 10px; font-size: 13px; color: #666; }
.sidebar-collapse:hover { background: #f9f9f9; }
.sidebar-collapse svg { width: 18px; height: 18px; }

/* ===== MAIN CONTENT ===== */
.main { flex: 1; padding: 20px 28px 40px; overflow-y: auto; max-width: 1200px; }

/* ===== PAGE TITLE + TABS ===== */
.page-title { font-size: 24px; font-weight: 700; color: #1a1a1a; margin-bottom: 8px; }
.page-tabs { display: flex; gap: 0; margin-bottom: 24px; }
.page-tab { padding: 10px 16px; font-size: 14px; font-weight: 500; color: #666; border-bottom: 2px solid transparent; cursor: pointer; transition: color 0.15s, border-color 0.15s; }
.page-tab:hover { color: #333; }
.page-tab.active { color: #1a1a1a; font-weight: 600; border-bottom-color: #1a1a1a; }

/* ===== HERO BANNER ===== */
.hero-banner { border-radius: 16px; overflow: hidden; padding: 32px 40px; margin-bottom: 24px; background: linear-gradient(135deg, #1a1a2e 0%, #2d1b69 30%, #4a3298 60%, #6b5ce7 100%); color: #fff; display: flex; align-items: center; justify-content: space-between; min-height: 180px; position: relative; }
.hero-banner-text { max-width: 55%; position: relative; z-index: 2; }
.hero-banner-title { font-size: 22px; font-weight: 700; line-height: 1.35; margin-bottom: 12px; }
.hero-banner-desc { font-size: 13px; opacity: 0.85; line-height: 1.6; }
.hero-banner-illustration { width: 40%; max-width: 280px; height: 140px; position: relative; }
.hero-banner-illustration::before { content: ''; position: absolute; width: 120px; height: 90px; border-radius: 12px; background: rgba(255,255,255,0.1); top: 10px; left: 30px; transform: rotate(-5deg); backdrop-filter: blur(4px); }
.hero-banner-illustration::after { content: ''; position: absolute; width: 90px; height: 70px; border-radius: 10px; background: rgba(255,255,255,0.08); bottom: 5px; right: 20px; transform: rotate(5deg); }

/* ===== SEARCH ===== */
.catalog-search { position: relative; margin-bottom: 16px; }
.catalog-search-input { width: 100%; padding: 12px 16px 12px 44px; border: 1px solid #e5e5e5; border-radius: 12px; font-size: 14px; font-family: inherit; outline: none; background: #fff; transition: border-color 0.15s; }
.catalog-search-input:focus { border-color: #1a1a1a; }
.catalog-search-input::placeholder { color: #999; }
.catalog-search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; color: #999; pointer-events: none; }

/* ===== CATEGORY PILLS ===== */
.category-pills { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 32px; }
.category-pill { padding: 8px 16px; border-radius: 20px; font-size: 13px; font-weight: 500; color: #333; background: #f0f0f0; border: none; cursor: pointer; transition: all 0.15s; white-space: nowrap; }
.category-pill:hover { background: #e5e5e5; }
.category-pill.active { background: #CC0000; color: #fff; }
.category-pill.active:hover { background: #b30000; }

/* ===== CATALOG SECTIONS ===== */
.catalog-section { margin-bottom: 40px; }
.catalog-section-title { font-size: 20px; font-weight: 700; color: #1a1a1a; margin-bottom: 6px; }
.catalog-section-desc { font-size: 13px; color: #666; line-height: 1.5; margin-bottom: 20px; max-width: 600px; }

/* ===== CATALOG CARDS ===== */
.catalog-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.catalog-card { background: #fff; border: 1px solid #e5e5e5; border-radius: 12px; padding: 20px; transition: box-shadow 0.15s, border-color 0.15s; cursor: pointer; display: flex; flex-direction: column; }
.catalog-card:hover { border-color: #ccc; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
.catalog-card-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 12px; }
.catalog-card-tag { padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; background: #f0f0f0; color: #666; }
.catalog-card-title { font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px; line-height: 1.4; }
.catalog-card-desc { font-size: 12px; color: #666; line-height: 1.5; }

/* ===== EMPTY STATE (tab "Ваши") ===== */
.empty-state { display: none; text-align: center; padding: 80px 20px; }
.empty-state-text { font-size: 16px; color: #999; margin-bottom: 8px; }
.empty-state-sub { font-size: 13px; color: #ccc; }

/* ===== SCROLLBAR ===== */
.main::-webkit-scrollbar { width: 6px; }
.main::-webkit-scrollbar-track { background: transparent; }
.main::-webkit-scrollbar-thumb { background: #ddd; border-radius: 3px; }
.main::-webkit-scrollbar-thumb:hover { background: #ccc; }
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <a href="index.html" class="header-logo">
    <div class="header-logo-icon">
      <svg viewBox="0 0 80 28" fill="none">
        <rect x="0" y="0" width="28" height="28" rx="4" fill="#CC0000"/>
        <text x="4" y="19" font-size="14" font-weight="800" fill="#fff" font-family="Inter,sans-serif">M</text>
      </svg>
    </div>
    <div class="header-logo-text">ЦИФРОВАЯ<br>ПЛАТФОРМА</div>
  </a>
  <a href="#" class="header-company">
    ОАО «Газпром»
    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6l4 4 4-4"/></svg>
  </a>
  <a href="#" class="header-services-btn">
    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="1" y="1" width="6" height="6" rx="1"/><rect x="9" y="1" width="6" height="6" rx="1"/><rect x="1" y="9" width="6" height="6" rx="1"/><rect x="9" y="9" width="6" height="6" rx="1"/></svg>
    Услуги
  </a>
  <div class="header-right">
    <a href="#" class="header-lang">RU</a>
    <a href="#" class="header-icon-btn" title="Поиск">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="8" cy="8" r="5.5"/><path d="M12 12l4 4"/></svg>
    </a>
    <a href="#" class="header-icon-btn" title="Поддержка">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 10V8a6 6 0 0112 0v2"/><path d="M1 11v2a2 2 0 002 2h1v-6H3a2 2 0 00-2 2zM17 11v2a2 2 0 01-2 2h-1v-6h1a2 2 0 012 2z"/></svg>
    </a>
    <a href="#" class="header-icon-btn header-notif-btn" title="Уведомления">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M13.5 6.5a4.5 4.5 0 10-9 0c0 5-2 6.5-2 6.5h13s-2-1.5-2-6.5M10.3 15a1.5 1.5 0 01-2.6 0"/></svg>
      <span class="header-notif-dot"></span>
    </a>
    <a href="#" class="header-user">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="10" cy="7" r="4"/><path d="M3 18c0-3.5 3.1-6 7-6s7 2.5 7 6"/></svg>
      Иванов И.И.
    </a>
  </div>
</header>

<div class="layout">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <a href="index.html" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 7l7-5 7 5v8a1 1 0 01-1 1H3a1 1 0 01-1-1V7z"/><path d="M7 16V10h4v6"/></svg>
        Главная
      </a>
      <a href="#" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 2h10a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z"/><path d="M6 6h6M6 9h6M6 12h3"/></svg>
        Документы
      </a>
      <a href="catalog.html" class="sidebar-item active">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="14" height="14" rx="2"/><path d="M6 6h6M6 9h6M6 12h4"/></svg>
        Каталог
      </a>
      <a href="#" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 3h12v12H3z"/><path d="M3 7h12M7 7v8"/></svg>
        Отчеты
      </a>
      <a href="#" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 2h10a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z"/><path d="M6 6h6M6 9h6"/></svg>
        Предоставление отчетности
      </a>
      <a href="#" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="9" cy="6" r="3"/><path d="M3 16c0-3 2.7-5 6-5s6 2 6 5"/></svg>
        Сотрудники
      </a>
      <a href="#" class="sidebar-item">
        <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 2h10a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z"/><path d="M6 6h6M6 9h6"/></svg>
        Финансовые документы
      </a>
    </nav>
    <a href="#" class="sidebar-collapse">
      <svg viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 4L6 9l6 5"/></svg>
      Свернуть
    </a>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- PAGE TITLE + TABS -->
    <h1 class="page-title">Каталог</h1>
    <div class="page-tabs">
      <a href="#" class="page-tab active" data-tab="all">Все</a>
      <a href="#" class="page-tab" data-tab="yours">Ваши</a>
    </div>

    <!-- ALL CONTENT (shown for "Все" tab) -->
    <div id="allContent">

      <!-- HERO BANNER -->
      <div class="hero-banner">
        <div class="hero-banner-text">
          <div class="hero-banner-title">Подключайте услуги для торговли, аналитики<br>и управления активами</div>
          <div class="hero-banner-desc">Здесь собраны сервисы, которые помогают работать на бирже: от биржевой информации до аналитических решений, сервисов для эмитентов и инвесторов</div>
        </div>
        <div class="hero-banner-illustration"></div>
      </div>

      <!-- SEARCH -->
      <div class="catalog-search">
        <svg class="catalog-search-icon" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="8" cy="8" r="5.5"/><path d="M12 12l4 4"/>
        </svg>
        <input type="text" class="catalog-search-input" id="catalogSearch" placeholder="Поиск услуг">
      </div>

      <!-- CATEGORY PILLS -->
      <div class="category-pills">
        <button class="category-pill active" data-category="all">Все</button>
        <button class="category-pill" data-category="info-tech">Информационные и технологические сервисы</button>
        <button class="category-pill" data-category="compliance">Compliance tool</button>
        <button class="category-pill" data-category="emitents">Продукты для эмитентов</button>
        <button class="category-pill" data-category="stocks">Рынок акций</button>
      </div>

      <!-- SECTION 1: Информационные и технологические сервисы -->
      <div class="catalog-section" data-section="info-tech">
        <h2 class="catalog-section-title">Информационные и технологические сервисы</h2>
        <p class="catalog-section-desc">Доступ к информации позволяет участникам торгов принимать взвешенные решения, разрабатывать стратегии и проводить глубокий анализ.</p>
        <div class="catalog-grid">

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Индикативные ставки риска по инструментам, допущенным к орг...</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Биржевая информация для Non-display использования</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Отчет организатора торгов для эмитентов</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Отчет организатора торгов для эмитентов по физ. лицам</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Производная информация для публичного распространения</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Универсальная схема</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Задержанный информационный поток для публичного распростра...</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Купить данные</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Букбилдер</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

        </div>
      </div>

      <!-- SECTION 2: Compliance tool -->
      <div class="catalog-section" data-section="compliance">
        <h2 class="catalog-section-title">Compliance tool</h2>
        <p class="catalog-section-desc">Доступ к информации позволяет участникам торгов принимать взвешенные решения, разрабатывать стратегии и проводить глубокий анализ.</p>
        <div class="catalog-grid">

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Система учета инсайдеров</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Взаимодействие с Биржей</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Контроль сделок инсайдеров</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Проверка совпадения контрагента</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

        </div>
      </div>

      <!-- SECTION 3: Продукты для эмитентов -->
      <div class="catalog-section" data-section="emitents">
        <h2 class="catalog-section-title">Продукты для эмитентов</h2>
        <p class="catalog-section-desc">Доступ к информации позволяет участникам торгов принимать взвешенные решения, разрабатывать стратегии и проводить глубокий анализ.</p>
        <div class="catalog-grid">

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Согласование параметров эмиссии</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

        </div>
      </div>

      <!-- SECTION 4: Рынок акций -->
      <div class="catalog-section" data-section="stocks">
        <h2 class="catalog-section-title">Рынок акций</h2>
        <p class="catalog-section-desc">Доступ к информации позволяет участникам торгов принимать взвешенные решения, разрабатывать стратегии и проводить глубокий анализ.</p>
        <div class="catalog-grid">

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Скоринг — Новые клиенты</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

          <a href="#" class="catalog-card">
            <div class="catalog-card-tags">
              <span class="catalog-card-tag">Ключевое слово</span>
              <span class="catalog-card-tag">Ключевое слово</span>
            </div>
            <div class="catalog-card-title">Квалифицированные инвесторы</div>
            <div class="catalog-card-desc">Аналитика клиентской активности и конкурентной позиции на фондовом рынке</div>
          </a>

        </div>
      </div>

    </div>

    <!-- EMPTY STATE (for "Ваши" tab) -->
    <div class="empty-state" id="emptyState">
      <div class="empty-state-text">У вас пока нет подключённых услуг</div>
      <div class="empty-state-sub">Перейдите на вкладку «Все» для выбора услуг</div>
    </div>

  </main>
</div>

<script>
// === Category filter ===
document.querySelectorAll('.category-pill').forEach(function(pill) {
  pill.addEventListener('click', function() {
    document.querySelectorAll('.category-pill').forEach(function(p) { p.classList.remove('active'); });
    this.classList.add('active');

    var category = this.dataset.category;
    document.querySelectorAll('.catalog-section').forEach(function(section) {
      if (category === 'all' || section.dataset.section === category) {
        section.style.display = '';
      } else {
        section.style.display = 'none';
      }
    });

    // Reset search when switching category
    document.getElementById('catalogSearch').value = '';
    document.querySelectorAll('.catalog-card').forEach(function(card) {
      card.style.display = '';
    });
  });
});

// === Search ===
document.getElementById('catalogSearch').addEventListener('input', function() {
  var query = this.value.toLowerCase().trim();
  var activeCategory = document.querySelector('.category-pill.active').dataset.category;

  document.querySelectorAll('.catalog-section').forEach(function(section) {
    // First check category filter
    if (activeCategory !== 'all' && section.dataset.section !== activeCategory) {
      section.style.display = 'none';
      return;
    }

    var cards = section.querySelectorAll('.catalog-card');
    var visibleCount = 0;

    cards.forEach(function(card) {
      var title = card.querySelector('.catalog-card-title').textContent.toLowerCase();
      var desc = card.querySelector('.catalog-card-desc').textContent.toLowerCase();
      var tags = [];
      card.querySelectorAll('.catalog-card-tag').forEach(function(t) { tags.push(t.textContent.toLowerCase()); });
      var tagText = tags.join(' ');

      if (!query || title.indexOf(query) !== -1 || desc.indexOf(query) !== -1 || tagText.indexOf(query) !== -1) {
        card.style.display = '';
        visibleCount++;
      } else {
        card.style.display = 'none';
      }
    });

    section.style.display = visibleCount > 0 ? '' : 'none';
  });
});

// === Tab switching ===
document.querySelectorAll('.page-tab').forEach(function(tab) {
  tab.addEventListener('click', function(e) {
    e.preventDefault();
    document.querySelectorAll('.page-tab').forEach(function(t) { t.classList.remove('active'); });
    this.classList.add('active');

    var tabName = this.dataset.tab;
    var allContent = document.getElementById('allContent');
    var emptyState = document.getElementById('emptyState');

    if (tabName === 'all') {
      allContent.style.display = '';
      emptyState.style.display = 'none';
    } else {
      allContent.style.display = 'none';
      emptyState.style.display = 'block';
    }
  });
});
</script>

</body>
</html>